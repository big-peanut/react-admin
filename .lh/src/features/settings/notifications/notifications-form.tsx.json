{
    "sourceFile": "src/features/settings/notifications/notifications-form.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1740976236840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740976389809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,11 +43,16 @@\n     resolver: zodResolver(notificationsFormSchema),\r\n     defaultValues,\r\n   })\r\n \r\n-  const onSubmit = () => {\r\n+  function onSubmit(data: NotificationsFormValues) {\r\n     toast({\r\n-      title: 'Your Changes Have Been Saved',\r\n+      title: 'You submitted the following values:',\r\n+      description: (\r\n+        <pre className='mt-2 w-[340px] rounded-md bg-slate-950 p-4'>\r\n+          <code className='text-white'>{JSON.stringify(data, null, 2)}</code>\r\n+        </pre>\r\n+      ),\r\n     })\r\n   }\r\n \r\n   return (\r\n"
                }
            ],
            "date": 1740976236840,
            "name": "Commit-0",
            "content": "import { z } from 'zod'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { Link } from '@tanstack/react-router'\r\nimport { toast } from '@/hooks/use-toast'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '@/components/ui/form'\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\r\nimport { Switch } from '@/components/ui/switch'\r\n\r\nconst notificationsFormSchema = z.object({\r\n  type: z.enum(['all', 'mentions', 'none'], {\r\n    required_error: 'You need to select a notification type.',\r\n  }),\r\n  mobile: z.boolean().default(false).optional(),\r\n  communication_emails: z.boolean().default(false).optional(),\r\n  social_emails: z.boolean().default(false).optional(),\r\n  marketing_emails: z.boolean().default(false).optional(),\r\n  security_emails: z.boolean(),\r\n})\r\n\r\ntype NotificationsFormValues = z.infer<typeof notificationsFormSchema>\r\n\r\n// This can come from your database or API.\r\nconst defaultValues: Partial<NotificationsFormValues> = {\r\n  communication_emails: false,\r\n  marketing_emails: false,\r\n  social_emails: true,\r\n  security_emails: true,\r\n}\r\n\r\nexport function NotificationsForm() {\r\n  const form = useForm<NotificationsFormValues>({\r\n    resolver: zodResolver(notificationsFormSchema),\r\n    defaultValues,\r\n  })\r\n\r\n  const onSubmit = () => {\r\n    toast({\r\n      title: 'Your Changes Have Been Saved',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className='space-y-8'>\r\n        <FormField\r\n          control={form.control}\r\n          name='type'\r\n          render={({ field }) => (\r\n            <FormItem className='relative space-y-3'>\r\n              <FormLabel>Notify me about...</FormLabel>\r\n              <FormControl>\r\n                <RadioGroup\r\n                  onValueChange={field.onChange}\r\n                  defaultValue={field.value}\r\n                  className='flex flex-col space-y-1'\r\n                >\r\n                  <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                    <FormControl>\r\n                      <RadioGroupItem value='all' />\r\n                    </FormControl>\r\n                    <FormLabel className='font-normal'>\r\n                      All new messages\r\n                    </FormLabel>\r\n                  </FormItem>\r\n                  <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                    <FormControl>\r\n                      <RadioGroupItem value='mentions' />\r\n                    </FormControl>\r\n                    <FormLabel className='font-normal'>\r\n                      Direct messages and mentions\r\n                    </FormLabel>\r\n                  </FormItem>\r\n                  <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                    <FormControl>\r\n                      <RadioGroupItem value='none' />\r\n                    </FormControl>\r\n                    <FormLabel className='font-normal'>Nothing</FormLabel>\r\n                  </FormItem>\r\n                </RadioGroup>\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <div className='relative'>\r\n          <h3 className='mb-4 text-lg font-medium'>Email Notifications</h3>\r\n          <div className='space-y-4'>\r\n            <FormField\r\n              control={form.control}\r\n              name='communication_emails'\r\n              render={({ field }) => (\r\n                <FormItem className='flex flex-row items-center justify-between rounded-lg border p-4'>\r\n                  <div className='space-y-0.5'>\r\n                    <FormLabel className='text-base'>\r\n                      Communication emails\r\n                    </FormLabel>\r\n                    <FormDescription>\r\n                      Receive emails about your account activity.\r\n                    </FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='marketing_emails'\r\n              render={({ field }) => (\r\n                <FormItem className='flex flex-row items-center justify-between rounded-lg border p-4'>\r\n                  <div className='space-y-0.5'>\r\n                    <FormLabel className='text-base'>\r\n                      Marketing emails\r\n                    </FormLabel>\r\n                    <FormDescription>\r\n                      Receive emails about new products, features, and more.\r\n                    </FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='social_emails'\r\n              render={({ field }) => (\r\n                <FormItem className='flex flex-row items-center justify-between rounded-lg border p-4'>\r\n                  <div className='space-y-0.5'>\r\n                    <FormLabel className='text-base'>Social emails</FormLabel>\r\n                    <FormDescription>\r\n                      Receive emails for friend requests, follows, and more.\r\n                    </FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                    />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='security_emails'\r\n              render={({ field }) => (\r\n                <FormItem className='flex flex-row items-center justify-between rounded-lg border p-4'>\r\n                  <div className='space-y-0.5'>\r\n                    <FormLabel className='text-base'>Security emails</FormLabel>\r\n                    <FormDescription>\r\n                      Receive emails about your account activity and security.\r\n                    </FormDescription>\r\n                  </div>\r\n                  <FormControl>\r\n                    <Switch\r\n                      checked={field.value}\r\n                      onCheckedChange={field.onChange}\r\n                      disabled\r\n                      aria-readonly\r\n                    />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n        <FormField\r\n          control={form.control}\r\n          name='mobile'\r\n          render={({ field }) => (\r\n            <FormItem className='relative flex flex-row items-start space-x-3 space-y-0'>\r\n              <FormControl>\r\n                <Checkbox\r\n                  checked={field.value}\r\n                  onCheckedChange={field.onChange}\r\n                />\r\n              </FormControl>\r\n              <div className='space-y-1 leading-none'>\r\n                <FormLabel>\r\n                  Use different settings for my mobile devices\r\n                </FormLabel>\r\n                <FormDescription>\r\n                  You can manage your mobile notifications in the{' '}\r\n                  <Link\r\n                    to='/settings'\r\n                    className='underline decoration-dashed underline-offset-4 hover:decoration-solid'\r\n                  >\r\n                    mobile settings\r\n                  </Link>{' '}\r\n                  page.\r\n                </FormDescription>\r\n              </div>\r\n            </FormItem>\r\n          )}\r\n        />\r\n        <Button type='submit'>Update notifications</Button>\r\n      </form>\r\n    </Form>\r\n  )\r\n}\r\n"
        }
    ]
}