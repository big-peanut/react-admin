{
    "sourceFile": "src/features/tasks/components/tasks-mutate-drawer.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1740976248741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740976383784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,11 +50,20 @@\n       label: '',\r\n       priority: '',\r\n     },\r\n   })\r\n-  const onSubmit = () => {\r\n+\r\n+  const onSubmit = (data: TasksForm) => {\r\n+    // do something with the form data\r\n+    onOpenChange(false)\r\n+    form.reset()\r\n     toast({\r\n-      title: 'Your Changes Have Been Saved',\r\n+      title: 'You submitted the following values:',\r\n+      description: (\r\n+        <pre className='mt-2 w-[340px] rounded-md bg-slate-950 p-4'>\r\n+          <code className='text-white'>{JSON.stringify(data, null, 2)}</code>\r\n+        </pre>\r\n+      ),\r\n     })\r\n   }\r\n \r\n   return (\r\n"
                }
            ],
            "date": 1740976248741,
            "name": "Commit-0",
            "content": "import { z } from 'zod'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { toast } from '@/hooks/use-toast'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '@/components/ui/form'\r\nimport { Input } from '@/components/ui/input'\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\r\nimport {\r\n  Sheet,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetFooter,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from '@/components/ui/sheet'\r\nimport { SelectDropdown } from '@/components/select-dropdown'\r\nimport { Task } from '../data/schema'\r\n\r\ninterface Props {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  currentRow?: Task\r\n}\r\n\r\nconst formSchema = z.object({\r\n  title: z.string().min(1, 'Title is required.'),\r\n  status: z.string().min(1, 'Please select a status.'),\r\n  label: z.string().min(1, 'Please select a label.'),\r\n  priority: z.string().min(1, 'Please choose a priority.'),\r\n})\r\ntype TasksForm = z.infer<typeof formSchema>\r\n\r\nexport function TasksMutateDrawer({ open, onOpenChange, currentRow }: Props) {\r\n  const isUpdate = !!currentRow\r\n\r\n  const form = useForm<TasksForm>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: currentRow ?? {\r\n      title: '',\r\n      status: '',\r\n      label: '',\r\n      priority: '',\r\n    },\r\n  })\r\n  const onSubmit = () => {\r\n    toast({\r\n      title: 'Your Changes Have Been Saved',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Sheet\r\n      open={open}\r\n      onOpenChange={(v) => {\r\n        onOpenChange(v)\r\n        form.reset()\r\n      }}\r\n    >\r\n      <SheetContent className='flex flex-col'>\r\n        <SheetHeader className='text-left'>\r\n          <SheetTitle>{isUpdate ? 'Update' : 'Create'} Task</SheetTitle>\r\n          <SheetDescription>\r\n            {isUpdate\r\n              ? 'Update the task by providing necessary info.'\r\n              : 'Add a new task by providing necessary info.'}\r\n            Click save when you&apos;re done.\r\n          </SheetDescription>\r\n        </SheetHeader>\r\n        <Form {...form}>\r\n          <form\r\n            id='tasks-form'\r\n            onSubmit={form.handleSubmit(onSubmit)}\r\n            className='flex-1 space-y-5'\r\n          >\r\n            <FormField\r\n              control={form.control}\r\n              name='title'\r\n              render={({ field }) => (\r\n                <FormItem className='space-y-1'>\r\n                  <FormLabel>Title</FormLabel>\r\n                  <FormControl>\r\n                    <Input {...field} placeholder='Enter a title' />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='status'\r\n              render={({ field }) => (\r\n                <FormItem className='space-y-1'>\r\n                  <FormLabel>Status</FormLabel>\r\n                  <SelectDropdown\r\n                    defaultValue={field.value}\r\n                    onValueChange={field.onChange}\r\n                    placeholder='Select dropdown'\r\n                    items={[\r\n                      { label: 'In Progress', value: 'in progress' },\r\n                      { label: 'Backlog', value: 'backlog' },\r\n                      { label: 'Todo', value: 'todo' },\r\n                      { label: 'Canceled', value: 'canceled' },\r\n                      { label: 'Done', value: 'done' },\r\n                    ]}\r\n                  />\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='label'\r\n              render={({ field }) => (\r\n                <FormItem className='relative space-y-3'>\r\n                  <FormLabel>Label</FormLabel>\r\n                  <FormControl>\r\n                    <RadioGroup\r\n                      onValueChange={field.onChange}\r\n                      defaultValue={field.value}\r\n                      className='flex flex-col space-y-1'\r\n                    >\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='documentation' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>\r\n                          Documentation\r\n                        </FormLabel>\r\n                      </FormItem>\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='feature' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>Feature</FormLabel>\r\n                      </FormItem>\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='bug' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>Bug</FormLabel>\r\n                      </FormItem>\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <FormField\r\n              control={form.control}\r\n              name='priority'\r\n              render={({ field }) => (\r\n                <FormItem className='relative space-y-3'>\r\n                  <FormLabel>Priority</FormLabel>\r\n                  <FormControl>\r\n                    <RadioGroup\r\n                      onValueChange={field.onChange}\r\n                      defaultValue={field.value}\r\n                      className='flex flex-col space-y-1'\r\n                    >\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='high' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>High</FormLabel>\r\n                      </FormItem>\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='medium' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>Medium</FormLabel>\r\n                      </FormItem>\r\n                      <FormItem className='flex items-center space-x-3 space-y-0'>\r\n                        <FormControl>\r\n                          <RadioGroupItem value='low' />\r\n                        </FormControl>\r\n                        <FormLabel className='font-normal'>Low</FormLabel>\r\n                      </FormItem>\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n          </form>\r\n        </Form>\r\n        <SheetFooter className='gap-2'>\r\n          <SheetClose asChild>\r\n            <Button variant='outline'>Close</Button>\r\n          </SheetClose>\r\n          <Button form='tasks-form' type='submit'>\r\n            Save changes\r\n          </Button>\r\n        </SheetFooter>\r\n      </SheetContent>\r\n    </Sheet>\r\n  )\r\n}\r\n"
        }
    ]
}